<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Clang: Don&#39;t Touch My Code! - Tantalus!</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Tantalus" />
  <meta name="description" content="Clang/LLVM is a toolchain that is widely adopted by both researchers and the industry. Based on LLVM, compilers for new targets are built, and program analysis solutions are developed, thanks to the well-defined LLVM IR. Nevertheless, Clang/LLVM is also famous for some of its strange (often just &amp;ldquo;different&amp;rdquo; from gcc) behaviors and very aggressive optimizations.
Recently I am working on LLVM (7.0) for program analysis and instrumentation, and I think it&#39;s time to write about how we are dealing with unwanted optimizations." />







<meta name="generator" content="Hugo 0.62.1" />


<link rel="canonical" href="https://Tantalus13A98B5F.github.io/post/clang-no-opt/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Clang: Don&#39;t Touch My Code!" />
<meta property="og:description" content="Clang/LLVM is a toolchain that is widely adopted by both researchers and the industry. Based on LLVM, compilers for new targets are built, and program analysis solutions are developed, thanks to the well-defined LLVM IR. Nevertheless, Clang/LLVM is also famous for some of its strange (often just &ldquo;different&rdquo; from gcc) behaviors and very aggressive optimizations.
Recently I am working on LLVM (7.0) for program analysis and instrumentation, and I think it&#39;s time to write about how we are dealing with unwanted optimizations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Tantalus13A98B5F.github.io/post/clang-no-opt/" />
<meta property="article:published_time" content="2020-01-11T16:31:37+08:00" />
<meta property="article:modified_time" content="2020-01-11T16:31:37+08:00" />
<meta itemprop="name" content="Clang: Don&#39;t Touch My Code!">
<meta itemprop="description" content="Clang/LLVM is a toolchain that is widely adopted by both researchers and the industry. Based on LLVM, compilers for new targets are built, and program analysis solutions are developed, thanks to the well-defined LLVM IR. Nevertheless, Clang/LLVM is also famous for some of its strange (often just &ldquo;different&rdquo; from gcc) behaviors and very aggressive optimizations.
Recently I am working on LLVM (7.0) for program analysis and instrumentation, and I think it&#39;s time to write about how we are dealing with unwanted optimizations.">
<meta itemprop="datePublished" content="2020-01-11T16:31:37&#43;08:00" />
<meta itemprop="dateModified" content="2020-01-11T16:31:37&#43;08:00" />
<meta itemprop="wordCount" content="866">



<meta itemprop="keywords" content="clang," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Clang: Don&#39;t Touch My Code!"/>
<meta name="twitter:description" content="Clang/LLVM is a toolchain that is widely adopted by both researchers and the industry. Based on LLVM, compilers for new targets are built, and program analysis solutions are developed, thanks to the well-defined LLVM IR. Nevertheless, Clang/LLVM is also famous for some of its strange (often just &ldquo;different&rdquo; from gcc) behaviors and very aggressive optimizations.
Recently I am working on LLVM (7.0) for program analysis and instrumentation, and I think it&#39;s time to write about how we are dealing with unwanted optimizations."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-155994167-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Tantalus!</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/about/">About</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Tantalus!
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Tantalus13A98B5F.github.io/about/">About</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Clang: Don&#39;t Touch My Code!</h1>
      
      <div class="post-meta">
        <time datetime="2020-01-11" class="post-time">
          2020-01-11
        </time>
        <div class="post-category">
            <a href="https://Tantalus13A98B5F.github.io/categories/system/"> System </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#our-problem">Our Problem</a></li>
    <li><a href="#how-is-clang-calling-optmizations">How is Clang calling optmizations?</a></li>
    <li><a href="#put-off-optimizations">Put off optimizations</a></li>
    <li><a href="#zero-out-the-stack">Zero out the stack</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>Clang/LLVM is a toolchain that is widely adopted by both researchers and the industry. Based on LLVM, compilers for new targets are built, and program analysis solutions are developed, thanks to the well-defined LLVM IR. Nevertheless, Clang/LLVM is also famous for some of its strange (often just &ldquo;different&rdquo; from gcc) behaviors and very aggressive optimizations.</p>
<p>Recently I am working on LLVM (7.0) for program analysis and instrumentation, and I think it's time to write about how we are dealing with unwanted optimizations. Here we start.</p>
<h2 id="our-problem">Our Problem</h2>
<p>We are doing a whole program analysis, thus we need to compile every source file to bitcode respectively, and then link them together to perform the analysis and instrumentation. Since there can be information loss during optimization, it's best to analyze an untouched bitcode file, and then perform the optimization after instrumentation. Something like,</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">$ clang -emit-llvm hello.c -c -o hello.bc
$ opt -load mypass.so -mypassname hello.bc &gt;output.bc
$ clang -emit-llvm -O2 output.bc -o optimized.bc
</code></pre></td></tr></table>
</div>
</div><p>However, the latter optimization is not happening, i.e. <code>output.bc</code> and <code>optmized.bc</code> are nearly the same.</p>
<h2 id="how-is-clang-calling-optmizations">How is Clang calling optmizations?</h2>
<p>Suspecting some action might be done in the frontend, we looked into what <code>clang</code> is doing internally. The <code>-###</code> argument may be helpful.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">$ clang -<span class="se">\#</span><span class="se">\#</span><span class="se">\#</span> hello.c -O2 -c -o hello.bc -emit-llvm
clang version 7.0.0
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /llvmroot/bin
 <span class="s2">&#34;/llvmroot/bin/clang-7&#34;</span> <span class="s2">&#34;-cc1&#34;</span> <span class="s2">&#34;-triple&#34;</span> <span class="s2">&#34;x86_64-unknown-linux-gnu&#34;</span> <span class="s2">&#34;-emit-llvm-bc&#34;</span>
 <span class="s2">&#34;-emit-llvm-uselists&#34;</span> <span class="s2">&#34;-disable-free&#34;</span> <span class="s2">&#34;-main-file-name&#34;</span> <span class="s2">&#34;hello.c&#34;</span> <span class="s2">&#34;-mrelocation-model&#34;</span>
 <span class="s2">&#34;static&#34;</span> <span class="s2">&#34;-mthread-model&#34;</span> <span class="s2">&#34;posix&#34;</span> <span class="s2">&#34;-fmath-errno&#34;</span> <span class="s2">&#34;-masm-verbose&#34;</span> <span class="s2">&#34;-mconstructor-aliases&#34;</span>
 <span class="s2">&#34;-munwind-tables&#34;</span> <span class="s2">&#34;-fuse-init-array&#34;</span> <span class="s2">&#34;-target-cpu&#34;</span> <span class="s2">&#34;x86-64&#34;</span> <span class="s2">&#34;-dwarf-column-info&#34;</span>
 <span class="s2">&#34;-debugger-tuning=gdb&#34;</span> <span class="s2">&#34;-momit-leaf-frame-pointer&#34;</span> <span class="s2">&#34;-coverage-notes-file&#34;</span> <span class="s2">&#34;/home/test/playground/hello.gcno&#34;</span>
 <span class="s2">&#34;-resource-dir&#34;</span> <span class="s2">&#34;/llvmroot/lib/clang/7.0.0&#34;</span> <span class="s2">&#34;-internal-isystem&#34;</span> <span class="s2">&#34;/usr/local/include&#34;</span>
 <span class="s2">&#34;-internal-isystem&#34;</span> <span class="s2">&#34;/llvmroot/lib/clang/7.0.0/include&#34;</span> <span class="s2">&#34;-internal-externc-isystem&#34;</span> <span class="s2">&#34;/usr/include/x86_64-linux-gnu&#34;</span>
 <span class="s2">&#34;-internal-externc-isystem&#34;</span> <span class="s2">&#34;/include&#34;</span> <span class="s2">&#34;-internal-externc-isystem&#34;</span> <span class="s2">&#34;/usr/include&#34;</span>
 <span class="s2">&#34;-O2&#34;</span> <span class="s2">&#34;-fdebug-compilation-dir&#34;</span> <span class="s2">&#34;/home/test/playground&#34;</span> <span class="s2">&#34;-ferror-limit&#34;</span> <span class="s2">&#34;19&#34;</span>
 <span class="s2">&#34;-fmessage-length&#34;</span> <span class="s2">&#34;189&#34;</span> <span class="s2">&#34;-fobjc-runtime=gcc&#34;</span> <span class="s2">&#34;-fdiagnostics-show-option&#34;</span> <span class="s2">&#34;-fcolor-diagnostics&#34;</span>
 <span class="s2">&#34;-vectorize-loops&#34;</span> <span class="s2">&#34;-vectorize-slp&#34;</span> <span class="s2">&#34;-o&#34;</span> <span class="s2">&#34;hello.bc&#34;</span> <span class="s2">&#34;-x&#34;</span> <span class="s2">&#34;c&#34;</span> <span class="s2">&#34;hello.c&#34;</span> <span class="s2">&#34;-faddrsig&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>You can see that <code>clang</code> is calling the internal <code>-cc1</code> interface. Though said to be modular, <code>-cc1</code> is not further calling the <code>opt</code> optimizer, but consuming the <code>-O2</code> option itself. In fact the LLVM IR codegen is built into the <code>-cc1</code> as a library. You can pass arguments to the codegen after the switch <code>-mllvm</code>, and using <code>-debug-pass</code> you can see the information of passes executed:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">$ clang -mllvm -debug-pass<span class="o">=</span>Arguments hello.c -O2 -c -o hello.bc -emit-llvm
Pass Arguments:  -tti -targetlibinfo -tbaa -scoped-noalias -assumption-cache-tracker
 -verify -ee-instrument -simplifycfg -domtree -sroa -early-cse -lower-expect
Pass Arguments:  -tti -targetlibinfo -tbaa -scoped-noalias -assumption-cache-tracker
 -profile-summary-info -forceattrs -inferattrs -ipsccp -called-value-propagation
 -globalopt -domtree -mem2reg -deadargelim -domtree -basicaa -aa -loops -lazy-branch-prob
 -lazy-block-freq -opt-remark-emitter -instcombine -simplifycfg -basiccg -globals-aa
 -prune-eh -inline -functionattrs -domtree -sroa -basicaa -aa -memoryssa -early-cse-memssa
 -basicaa -aa -lazy-value-info -jump-threading -correlated-propagation -simplifycfg
 -domtree -basicaa -aa -loops -lazy-branch-prob -lazy-block-freq -opt-remark-emitter
 -instcombine -libcalls-shrinkwrap -loops -branch-prob -block-freq -lazy-branch-prob
 -lazy-block-freq -opt-remark-emitter -pgo-memop-opt -basicaa -aa -loops -lazy-branch-prob
 &lt;...&gt;
Pass Arguments:  -targetlibinfo -domtree -loops -branch-prob -block-freq
Pass Arguments:  -targetlibinfo -domtree -loops -branch-prob -block-freq
Pass Arguments:  -tti
</code></pre></td></tr></table>
</div>
</div><p>So you see&hellip; there are so many passes, and there are so many rounds of passes!</p>
<p>If you look into the source of <code>clang</code>, you'll see that all it is doing upon a <code>*.c</code> file is handled inside the <code>clang::ParseAST</code> function, defined at <code>lib/Parse/ParseAST.cpp:114</code>. Through <code>BackendConsumer::HandleTopLevelDecl</code>, each item defined in the source file is translated into IR, if <code>-emit-llvm</code> is used, and through <code>BackendConsumer::HandleTranslationUnit</code>, the IR is optimized and printed. Passes are directly called in <code>EmitAssemblyHelper::EmitAssembly</code>, and here we can see that different rounds of passes stand for per-function round, per-module round, and code-gen round, respectively. Thus you cannot append all the output by <code>-debug-pass</code> to an <code>opt</code> run &ndash; it will not work.</p>
<p>We compared the IR generated under different optimization level before going through all those passes, and we found that they were the same &ndash; no optimizations done in the frontend.</p>
<h2 id="put-off-optimizations">Put off optimizations</h2>
<p>Back to our topic. Regretfully we found that making clear about the pass running is not directly helpful, though interesting. Then what is that preventing the optimization? Maybe some metadata?</p>
<p>We examined the IR code again, and found out that there's a function attribute called <code>optnone</code>, like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ll" data-lang="ll"><span class="k">define</span> <span class="err">d</span><span class="err">s</span><span class="err">o</span><span class="err">_</span><span class="err">l</span><span class="err">o</span><span class="err">c</span><span class="err">a</span><span class="err">l</span> <span class="k">i32</span> <span class="vg">@main</span><span class="p">(</span><span class="p">)</span> <span class="vg">#0</span> <span class="p">{</span>
    <span class="p">.</span><span class="p">.</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">attributes</span> <span class="vg">#0</span> <span class="p">=</span> <span class="p">{</span> <span class="k">noinline</span> <span class="k">nounwind</span> <span class="k">optnone</span> <span class="k">uwtable</span> <span class="p">.</span><span class="p">.</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><p>After manually removing this attribute, the optimization now works. If manual modification is not acceptable, <code>-Xclang -disable-O0-optnone</code> is to the rescue.</p>
<p>One more thing. If we are using a higher optimization level, like <code>-O2</code>, can we simply put off the execution of all the passes? Yeah, use <code>-Xclang -disable-llvm-passes</code>.</p>
<h2 id="zero-out-the-stack">Zero out the stack</h2>
<p>Another interesting task is that, how to safely zero out the stack in clang. In C11, there is <code>memset_s</code>, a safe memory-set operation that will not get optimized. However, it is optional, and not included in clang. But there are other chances.</p>
<p>As <code>memset</code> is in fact an internal function in LLVM, it could be created using a dedicated interface, i.e. <a href="http://llvm.org/doxygen/classllvm_1_1IRBuilderBase.html#a7a87ff785ecd8547f1fb561b6016827e"><code>IRBuilder::CreateMemSet</code></a>. There is a <code>volatile</code> argument, with no explanation here. Well, all memory-write operations in LLVM could be marked as <code>volatile</code> so that it will not get optimized, and <code>memset</code> is just another case.</p>
<p>Well, LLVM is great, offering so many possibilities. I just hope there could be better documentation :)</p>

    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://Tantalus13A98B5F.github.io/tags/clang/">clang</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/hello-world/">
            <span class="next-text nav-default">Hello World</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  


<a href="https://Tantalus13A98B5F.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Tantalus
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?aeaa2384b12fe093fad3519714e7034b";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
